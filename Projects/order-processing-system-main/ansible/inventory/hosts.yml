all:
  vars:
    ansible_user: ubuntu
    ansible_ssh_private_key_file: ~/.ssh/id_rsa
    ansible_python_interpreter: /usr/bin/python3

  children:
    # Grupo de servidores web (3 servidores)
    web_servers:
      hosts:
        web01:
          ansible_host: 192.168.1.101
          server_role: nginx
        web02:
          ansible_host: 192.168.1.102
          server_role: nginx
        web03:
          ansible_host: 192.168.1.103
          server_role: nginx

    # Servidor de aplicação
    app_servers:
      hosts:
        app01:
          ansible_host: 192.168.1.110
          server_role: nodejs

    # Servidor de banco de dados
    database_servers:
      hosts:
        db01:
          ansible_host: 192.168.1.120
          server_role: mysql

    # Grupo combinado para todos os servidores
    all_servers:
      children:
        web_servers
        app_servers
        database_servers
      vars:
        timezone: UTC
        company_name: "MyGreatCompany"